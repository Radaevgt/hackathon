# Базовая конфигурация RAG-системы
experiment:
  name: "baseline_v1"
  seed: 42
  version: "1.0"
  
data:
  websites_path: "data/raw/websites.csv"
  questions_path: "data/raw/questions.csv"
  output_path: "data/submissions"
  
preprocessing:
  use_metadata_enhancement: true
  use_chunking: false
  chunk_size: 512
  chunk_overlap: 50
  min_text_length: 10
  
retrieval:
  # BM25 Configuration
  use_bm25: true
  bm25:
    k1: 1.5
    b: 0.75
    top_k: 100
  
  # Dense Retrieval Configuration
  use_dense: true
  dense:
    model_name: "intfloat/multilingual-e5-large"
    use_gpu: true  # ✅ Теперь безопасно включать
    batch_size: 64  # Увеличиваем для GPU
    normalize_embeddings: true
    index_type: "Flat"
    nprobe: 10
    top_k: 100
  
  # Fusion Strategy
  fusion_type: "rrf"  # rrf, weighted, distribution
  rrf_k: 60
  alpha: 0.3  # для weighted fusion
  
  # Reranking Configuration
  use_reranking: false
  reranker:
    model_name: "cross-encoder/ms-marco-MiniLM-L-12-v2"
    top_k_candidates: 20
    batch_size: 16

evaluation:
  metrics:
    - "hit@5"
    - "hit@10"
    - "mrr"
    - "precision@5"
    - "recall@5"
  
output:
  submission_format: "csv"
  save_indices: true
  indices_dir: "data/indices"
  
logging:
  level: "INFO"
  format: "{time:YYYY-MM-DD HH:mm:ss} | {level} | {message}"
